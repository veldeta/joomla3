function resizeGallery(){jQuery(".rc_gallery").each(function(){var r=jQuery(this).attr("data-startheight"),e=jQuery(this).attr("data-marginsize"),t=jQuery(this).width()-1,i=0,h=new Array,a=new Array,y=new Array,n=new Array,u=0,s=0,j=jQuery(this).find(".rc_galleryimg").length;jQuery(this).find(".rc_galleryimg").each(function(){var Q=jQuery(this).attr("data-width"),d=jQuery(this).attr("data-height");a[u]=Q/d,jQuery(this).height(r),jQuery(this).width(r/d*Q),i+(jQuery(this).width()+2*e)/2>=t?(n[s]=i,s++,i=jQuery(this).width()+2*e):(i=i+jQuery(this).width()+2*e,n[s]=u==j-1&&i<t?t:i),h[u]=jQuery(this).width()+2*e,y[u]=s,u++});j=h.length;for(var Q=new Array,d=new Array,l=-1,w=0;w<=j;w++){var c=h[w],g=y[w],f=n[g];f||(f=t-2*e-1),Q[w]=c/f*t-2*e,Q[w]+2*e>t-2*e&&(Q[w]=t-2*e),l!=g&&(d[g]=(Q[w]-2*e)/a[w],l=g)}u=0,jQuery(this).find(".rc_galleryimg").each(function(){jQuery(this).width(Q[u]),jQuery(this).height(d[y[u]]),u++})})}jQuery(document).ready(function(){resizeGallery()}),jQuery(window).resize(function(){resizeGallery()});